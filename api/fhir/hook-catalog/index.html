<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Hook catalog - EBMeDS 2.0</title>
        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../..">EBMeDS 2.0</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="../../..">Home</a>
                    </li>
                    <li >
                        <a href="../../../components/">Components</a>
                    </li>
                    <li >
                        <a href="../../../installation/">Installation</a>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">FHIR <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../getting-started/">Getting started</a>
</li>
                            
<li >
    <a href="../cds-hooks/">CDS hooks</a>
</li>
                            
<li class="active">
    <a href="./">Hook catalog</a>
</li>
                            
<li >
    <a href="../custom-rest/">Custom REST</a>
</li>
                            
<li >
    <a href="../resources/">Resources</a>
</li>
                            
<li >
    <a href="../code-systems/">Code Systems</a>
</li>
                            
<li >
    <a href="../extensions/">Extensions</a>
</li>
                            
<li >
    <a href="../oda/">ODA-specific information</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">XML <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../xml/getting-started/">Getting started</a>
</li>
                            
<li >
    <a href="../../xml/xml-schema/">XML schema</a>
</li>
                        </ul>
                    </li>
                    <li >
                        <a href="../../../security/">Security & Error handling</a>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../cds-hooks/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../custom-rest/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#ebmeds-hook-catalog">EBMeDS Hook Catalog</a></li>
            <li><a href="#selfcare-filled-questionnaire">/selfcare-filled-questionnaire</a></li>
            <li><a href="#selfcare-general-cds">/selfcare-general-cds</a></li>
            <li><a href="#selfcare-monitoring">/selfcare-monitoring</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="ebmeds-hook-catalog">EBMeDS Hook Catalog</h1>
<p>Below we list the available CDS hook endpoints, i.e. the REST endpoints at <code>[base-url]/cds-services/[endpoint]</code>.</p>
<p><strong>Note</strong>: the FHIR resources to be included in the request are listed (per the CDS hooks standard) as FHIR search strings. However, there is sometimes not enough granularity available in FHIR STU3 searches to specify exactly what is needed. Be aware of this when reading the service descriptions below.</p>
<h2 id="selfcare-filled-questionnaire">/selfcare-filled-questionnaire</h2>
<p><em>Hook: 'questionnaire-completed'</em></p>
<p>This hook is intended for the self-care context, where an individual (either by himself or with the assistance of a healthcare professional) fills in a form related to his or her health. This might be a questionnaire about the person's symptoms, a questionnaire calculating lifestyle-related health risks, etc. The responses are encoded into a FHIR QuestionnaireResponse. EBMeDS responds with ActivityDefinitions that include coded actions available for the individual, e.g. the reservation of a time for a lab test, visit to the doctor, etc. A special ActivityDefinition is provided containing reminder texts, instead of the texts being in the CDS hook cards.</p>
<h3 id="used-fhir-resources">Used FHIR resources</h3>
<ul>
<li>Request<ul>
<li><a href="../resources/#selfcarequestionnaireresponse">SelfCareQuestionnaireResponse</a> (profile of QuestionnaireResponse)</li>
</ul>
</li>
<li>Response<ul>
<li>SelfCareActivityDefinition (profile of ActivityDefinition)</li>
</ul>
</li>
</ul>
<h3 id="versioning-info">Versioning info</h3>
<p>The version of the Questionnaire resource is tightly bound to the version of the ruleset used in EBMeDS to analyze the QuestionnaireResponse. Therefore the Questionnaire version (along with the Questionnaire ID itself) must be specified in the QuestionnaireResponse. The Questionnaire resource contains the <code>Questionnaire.url</code> field which is globally unique. That URL shall be included in the QuestionnaireResponse in the <code>QuestionnaireResponse.questionnaire.url</code> field, which gives EBMeDS enough info to infer the version information.</p>
<p>Note that old Questionnaire versions will not be supported indefinitely, and it is strongly recommended to always use the latest available questionnaire version for a given questionnaire. It is up to the calling party to make sure that the newest version is in use, information about new releases are provided by Duodecim using a mechanism agreed upon with the customer.</p>
<h3 id="service-description">Service description</h3>
<pre><code class="json">{
  &quot;id&quot;: &quot;selfcare-filled-questionnaire&quot;,
  &quot;hook&quot;: &quot;questionnaire-completed&quot;,
  &quot;name&quot;: &quot;Self-care questionnaire analysis service&quot;,
  &quot;description&quot;: &quot;A hook for when a FHIR QuestionnaireResponse filled out by a patient/citizen is available for EBMeDS to process. The response may include directions both for the patient himself, and a medical professional.&quot;,
  &quot;prefetch&quot;: {
    &quot;questionnaireResponse&quot;: &quot;/QuestionnaireResponse?patient={{Patient.id}}&quot;
  }
}
</code></pre>

<h3 id="example-request">Example request</h3>
<pre><code class="json">{
  &quot;hook&quot;: &quot;questionnaire-completed&quot;,
  &quot;context&quot;: {
    &quot;dataVersion&quot;: &quot;latest&quot;
  },
  &quot;prefetch&quot;: {
    &quot;questionnaireResponse&quot;: {
      &quot;resource&quot;: {
        &quot;resourceType&quot;: &quot;QuestionnaireResponse&quot;,
        &quot;questionnaire&quot;: {
          &quot;url&quot;: &quot;https://www.ebmeds.org/form/api/FHIR/forms/export/21/622&quot;
        },
        &quot;status&quot;: &quot;completed&quot;,
        &quot;item&quot;: [
          {
            &quot;linkId&quot;: &quot;introduction&quot;,
            &quot;item&quot;: [
              {
                &quot;linkId&quot;: &quot;20&quot;,
                &quot;answer&quot;: [
                  {
                    &quot;valueCoding&quot;: {
                      &quot;id&quot;: &quot;47&quot;
                    }
                  }
                ]
              },
              {
                &quot;linkId&quot;: &quot;266&quot;
              },
              {
                &quot;linkId&quot;: &quot;3&quot;,
                &quot;answer&quot;: [
                  {
                    &quot;valueDecimal&quot;: 45
                  }
                ]
              },
              {
                &quot;linkId&quot;: &quot;666&quot;
              },
              {
                &quot;linkId&quot;: &quot;305&quot;,
                &quot;answer&quot;: [
                  {
                    &quot;valueCoding&quot;: {
                      &quot;id&quot;: &quot;462&quot;
                    }
                  }
                ]
              },
              {
                &quot;linkId&quot;: &quot;662&quot;
              },
              {
                &quot;linkId&quot;: &quot;21&quot;,
                &quot;answer&quot;: [
                  {
                    &quot;valueCoding&quot;: {
                      &quot;id&quot;: &quot;69&quot;
                    }
                  }
                ]
              },
              {
                &quot;linkId&quot;: &quot;22&quot;,
                &quot;answer&quot;: [
                  {
                    &quot;valueCoding&quot;: {
                      &quot;id&quot;: &quot;81&quot;
                    }
                  }
                ]
              },
              {
                &quot;linkId&quot;: &quot;28&quot;
              },
              {
                &quot;linkId&quot;: &quot;23&quot;
                &quot;answer&quot;: [
                  {
                    &quot;valueBoolean&quot;: true
                  }
                ]
              },
              {
                &quot;linkId&quot;: &quot;24&quot;
                &quot;answer&quot;: [
                  {
                    &quot;valueBoolean&quot;: true
                  }
                ]
              },
              {
                &quot;linkId&quot;: &quot;25&quot;
                &quot;answer&quot;: [
                  {
                    &quot;valueCoding&quot;: {
                      &quot;id&quot;: &quot;414&quot;
                    }
                  }
                ]
              },
              {
                &quot;linkId&quot;: &quot;184&quot;,
                &quot;answer&quot;: [
                  {
                    &quot;valueBoolean&quot;: true
                  }
                ]
              },
              {
                &quot;linkId&quot;: &quot;26&quot;,
                &quot;answer&quot;: [
                  {
                    &quot;valueBoolean&quot;: true
                  }
                ]
              },
              {
                &quot;linkId&quot;: &quot;27&quot;
              },
              {
                &quot;linkId&quot;: &quot;29&quot;,
                &quot;answer&quot;: [
                  {
                    &quot;valueBoolean&quot;: true
                  }
                ]
              },
              {
                &quot;linkId&quot;: &quot;660&quot;,
                &quot;answer&quot;: [
                  {
                    &quot;valueBoolean&quot;: true
                  }
                ]
              },
              {
                &quot;linkId&quot;: &quot;30&quot;,
                &quot;answer&quot;: [
                  {
                    &quot;valueBoolean&quot;: true
                  }
                ]
              },
              {
                &quot;linkId&quot;: &quot;31&quot;,
                &quot;answer&quot;: [
                  {
                    &quot;valueBoolean&quot;: true
                  }
                ]
              },
              {
                &quot;linkId&quot;: &quot;32&quot;,
                &quot;answer&quot;: [
                  {
                    &quot;valueBoolean&quot;: true
                  }
                ]
              },
              {
                &quot;linkId&quot;: &quot;33&quot;,
                &quot;answer&quot;: [
                  {
                    &quot;valueBoolean&quot;: true
                  }
                ]
              },
              {
                &quot;linkId&quot;: &quot;702&quot;,
                &quot;answer&quot;: [
                  {
                    &quot;valueBoolean&quot;: true
                  }
                ]
              },
              {
                &quot;linkId&quot;: &quot;34&quot;
              }
            ]
          }
        ]
      }
    }
  }
}
</code></pre>

<h3 id="example-response">Example response</h3>
<pre><code class="json">{
  &quot;cards&quot;: [
    {
      &quot;summary&quot;: &quot;Selfcare action suggestions&quot;,
      &quot;indicator&quot;: &quot;info&quot;,
      &quot;source&quot;: {
        &quot;name&quot;: &quot;EBMeDS v2.0.6&quot;,
        &quot;url&quot;: &quot;https://ebmeds.org/version/v2.0.6/data-version/v0.9.2&quot;
      },
      &quot;suggestions&quot;: [
        {
          &quot;resourceType&quot;: &quot;ActivityDefinition&quot;,
          &quot;status&quot;: &quot;active&quot;,
          &quot;copyright&quot;: &quot;Kustannus Oy Duodecim, 2017&quot;,
          &quot;participant&quot;: [
            {
              &quot;type&quot;: &quot;patient&quot;
            }
          ],
          &quot;kind&quot;: &quot;Observation&quot;,
          &quot;code&quot;: {
            &quot;coding&quot;: [
              {
                &quot;code&quot;: &quot;ADA001-P1&quot;,
                &quot;system&quot;: &quot;http://91.202.112.142/codeserver/pages/classification-view-page.xhtml?classificationKey=2023&amp;versionKey=2283&quot;,
                &quot;display&quot;: &quot;Yleislääkärin päivystyksen palvelut - Hoidetaan päivystyksenä&quot;
              }
            ]
          }
        },
        {
          &quot;resourceType&quot;: &quot;ActivityDefinition&quot;,
          &quot;status&quot;: &quot;active&quot;,
          &quot;copyright&quot;: &quot;Kustannus Oy Duodecim, 2017&quot;,
          &quot;participant&quot;: [
            {
              &quot;type&quot;: &quot;patient&quot;
            }
          ],
          &quot;kind&quot;: &quot;CommunicationRequest&quot;,
          &quot;code&quot;: {
            &quot;coding&quot;: [
              {
                &quot;system&quot;: &quot;https://duodecim.fi/fhir/stu3/CodeSystem/activity-definition-custom-actions&quot;,
                &quot;code&quot;: &quot;read-reminder&quot;,
                &quot;display&quot;: &quot;Lue muistutteet&quot;
              }
            ]
          },
          &quot;topic&quot;: [
            {
              &quot;text&quot;: &quot;Oireesi voivat johtua virtsatietulehduksesta, joka voi olla munuaistasoinen. Hakeudu päivystysvastaanotolle.&quot;
            }
          ]
        }
      ]
    }
  ]
}
</code></pre>

<h2 id="selfcare-general-cds">/selfcare-general-cds</h2>
<p>The so-called general CDS is the traditional way of using EBMeDS, where as much patient data as possible is sent to the service, and a wide range of reminders and suggested actions are returned.</p>
<h3 id="service-description_1">Service description</h3>
<pre><code class="json">{
  &quot;id&quot;: &quot;selfcare-general-cds&quot;,
  &quot;hook&quot;: &quot;general-cds&quot;,
  &quot;name&quot;: &quot;General decision support, no specialization.&quot;,
  &quot;description&quot;: &quot;This hook takes as much patient data as possible and returns as many reminders as possible. As well as prefetch data, see the documentation for what can be put in the context property.&quot;,
  &quot;prefetch&quot;: {
    &quot;patient&quot;: &quot;Patient/{{Patient.id}}&quot;,
    &quot;allergyIntolerances&quot;: &quot;AllergyIntolerance?patient={{Patient.id}}&quot;,
    &quot;familyMemberHistories&quot;: &quot;FamilyMemberHistory?patient={{Patient.id}}&quot;,
    &quot;conditions&quot;: &quot;Condition?patient={{Patient.id}}&quot;,
    &quot;observations&quot;: &quot;Observation?patient={{Patient.id}}&quot;,
    &quot;medicationStatements&quot;: &quot;MedicationStatement?patient={{Patient.id}}&quot;,
    &quot;immunizations&quot;: &quot;Immunization?patient={{Patient.id}}&quot;,
    &quot;procedures&quot;: &quot;Procedure?patient={{Patient.id}}&quot;,
    &quot;procedureRequests&quot;: &quot;ProcedureRequest?patient={{Patient.id}}&quot;
  }
}
</code></pre>

<h2 id="selfcare-monitoring">/selfcare-monitoring</h2>
<p>Given a MonitoringGoal and related measurements (e.g. a weight loss goal and weight measurements), provide feedback on the progress.</p>
<h3 id="service-description_2">Service description</h3>
<pre><code class="json">{
  &quot;id&quot;: &quot;selfcare-monitoring&quot;,
  &quot;hook&quot;: &quot;selfcare-monitoring&quot;,
  &quot;name&quot;: &quot;Monitoring of certain observations for self-care purposes&quot;,
  &quot;description&quot;: &quot;This hook takes a MonitoringGoal resource and a bundle of associated MeasurementObservations and returns textual feedback on the user's progress.&quot;,
  &quot;context&quot;: {
    &quot;goals&quot;: &quot;Goal?patient={{Patient.id}}&quot;,
    &quot;measurements&quot;: &quot;Observation?patient={{Patient.id}}&quot;,
  }
}
</code></pre></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '../../..';</script>
        <script src="../../../js/base.js"></script>
        <script src="../../../search/require.js"></script>
        <script src="../../../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>
